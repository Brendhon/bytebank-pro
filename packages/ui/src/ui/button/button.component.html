<button
  [type]="type()"
  [ngClass]="buttonClasses"
  [disabled]="disabled() || loading()"
  [attr.aria-busy]="loading() ? 'true' : 'false'"
  [attr.aria-label]="computedAriaLabel || null"
  [attr.aria-describedby]="ariaDescribedBy() || null"
  [attr.aria-pressed]="ariaPressed() || null"
  [attr.aria-disabled]="disabled() || loading() ? 'true' : 'false'"
  [attr.role]="computedRole"
  (click)="handleClick($event)"
>
  <span
    [ngClass]="{ 'button-loading-content': loading() }"
    [attr.aria-hidden]="loading() ? 'true' : 'false'"
  >
    <ng-content></ng-content>
  </span>

  @if (loading()) {
    <i-lucide
      [img]="loadingIcon"
      class="button-loading-icon"
      [attr.aria-hidden]="'true'"
    ></i-lucide>
    <span class="sr-only">{{ loadingText() }}</span>
  }
</button>
