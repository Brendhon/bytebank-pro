<div class="menu-popover-container" data-testid="menu-popover-container">
  <bb-popover
    class="relative"
    [isOpen]="isMenuOpen()"
    (openChange)="handlePopoverOpenChange($event)"
    [closeOnClickOutside]="true"
    [closeOnEscape]="true"
    ariaLabel="Navigation menu"
    data-testid="main-menu-popover"
  >
    <!-- Trigger slot -->
    <button
      slot="trigger"
      type="button"
      class="menu-popover-trigger"
      aria-label="Open navigation menu"
      data-testid="menu-button"
    >
      <i-lucide
        [img]="menuIcon"
        class="menu-popover-icon"
        [size]="36"
        aria-hidden="true"
      ></i-lucide>
    </button>

    <!-- Content slot -->
    <div slot="content" class="menu-popover-content">
      <bb-nav-menu
        [current]="currentNavLabel()"
        (navigate)="handleNavigation($event)"
        className="menu-popover-nav-menu"
      ></bb-nav-menu>
    </div>
  </bb-popover>
</div>
